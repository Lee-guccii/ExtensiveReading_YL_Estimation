from numpy import *
from scipy import linalg

#lsa.pyで出てきた配列をAに代入する
A = matrix([ [0.0, 0.040156145945947554, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.02998017555240157, 0.0, 0.05996035110480314, 0.02998017555240157, 0.02998017555240157, 0.02998017555240157, 0.0, 0.02998017555240157, 0.0, 0.0, 0.02998017555240157, 0.0, 0.0, 0.02998017555240157, 0.0, 0.0, 0.02998017555240157, 0.0, 0.0, 0.0, 0.0, 0.020078072972973777, 0.0, 0.0, 0.0],
[0.0, 0.029903512938471582, 0.0, 0.0, 0.0, 0.0, 0.022325662645405427, 0.022325662645405427, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.022325662645405427, 0.022325662645405427, 0.0, 0.04465132529081085, 0.022325662645405427, 0.0, 0.0, 0.022325662645405427, 0.0, 0.022325662645405427, 0.0, 0.022325662645405427, 0.0, 0.0, 0.022325662645405427, 0.022325662645405427, 0.022325662645405427],
[0.03132257147265836, 0.0, 0.03132257147265836, 0.03132257147265836, 0.03132257147265836, 0.03132257147265836, 0.0, 0.0, 0.03132257147265836, 0.0, 0.03132257147265836, 0.0, 0.0, 0.0, 0.0, 0.03132257147265836, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.03132257147265836, 0.0, 0.0, 0.0, 0.03132257147265836, 0.0, 0.03132257147265836, 0.020977091165793497, 0.0, 0.0, 0.0]])

A = matrix([ [0.0, 0.0, 0.052465307216702756, 0.0, 0.05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.052465307216702756, 0.0, 0.052465307216702756, 0.0, 0.052465307216702756, 0.052465307216702756, 0.0, 0.0, 0.0, 0.0, 0.052465307216702756, 0.052465307216702756, 0.0, 0.0, 0.0, 0.052465307216702756, 0.0],
[0.03279081701043922, 0.03279081701043922, 0.0, 0.0, 0.109375, 0.03279081701043922, 0.03279081701043922, 0.0, 0.03279081701043922, 0.0, 0.03279081701043922, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.03279081701043922, 0.03279081701043922, 0.03279081701043922, 0.0, 0.0, 0.02196039231419007, 0.03279081701043922, 0.0, 0.0, 0.0],
[0.0, 0.0, 0.0, 0.04663582863706911, 0.06666666666666667, 0.0, 0.0, 0.04663582863706911, 0.0, 0.04663582863706911, 0.0, 0.0, 0.04663582863706911, 0.0, 0.04663582863706911, 0.0, 0.0, 0.04663582863706911, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06246511591591842, 0.0, 0.04663582863706911, 0.0, 0.04663582863706911]])


u, sigma, v = linalg.svd(A) # 特異値分解
rank = shape(A)[0] # 階数
u = matrix(u)
s = matrix(linalg.diagsvd(sigma, rank, rank))
v = matrix(v[:rank, :])
#print (u*s*v)

z = 2
u3 = u[:, :z]
s3 = matrix(linalg.diagsvd(sigma[:z], z, z))
v3 = v[:z, :]

print (sum(sigma[:z])/sum(sigma))
